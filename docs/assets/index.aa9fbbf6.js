var ce=Object.defineProperty;var ue=(o,e,s)=>e in o?ce(o,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):o[e]=s;var de=(o,e)=>()=>(e||o((e={exports:{}}).exports,e),e.exports);var F=(o,e,s)=>(ue(o,typeof e!="symbol"?e+"":e,s),s);import{o as W,c as Y,a as j,t as It,n as ct,b as xt,r as fe,d as pe,e as ge,f as et,g as pt,h as ve,i as Yt,j as xe,w as Ot,v as Gt,k as me,l as $t,F as Nt,m as Ut,p as Wt,q as Kt,s as Ht,u as te,x as ye,y as we}from"./vendor.e6dd67e7.js";var Ms=de((re,Jt)=>{const be=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const t of i)if(t.type==="childList")for(const c of t.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function s(i){const t={};return i.integrity&&(t.integrity=i.integrity),i.referrerpolicy&&(t.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?t.credentials="include":i.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function r(i){if(i.ep)return;i.ep=!0;const t=s(i);fetch(i.href,t)}};be();class C{constructor(e=0,s=0,r=0){F(this,"x");F(this,"y");F(this,"z");this.x=e,this.y=s,this.z=r}setPosition(e,s,r=0){this.x=e,this.y=s,this.z=r}addPosition(e,s,r=0){this.x+=e,this.y+=s,this.z+=r}}class R{constructor(e,s,r,i,t){F(this,"ap");F(this,"an");F(this,"ac");F(this,"bp");F(this,"bn");F(this,"cp");F(this,"cn");F(this,"dp");F(this,"dn");F(this,"ep");F(this,"en");F(this,"fp");F(this,"fn");F(this,"gp");F(this,"gn");F(this,"hp");F(this,"hn");F(this,"ip");F(this,"in");F(this,"jp");F(this,"jn");F(this,"kp");F(this,"kn");F(this,"picsHeight");this.picsHeight=e;const c=this.calculVertex(s,r,i),h=this.calculVertex(r,s,t),a=u=>{let p=0,v=0,B=0;for(const x of u)p+=x.x,v+=x.y,B+=x.z;return new C(p/u.length,v/u.length,B/u.length)};this.ap=r,this.an=s,this.ac=a([r,s]),this.bp=a([a([r,s]),a([r,s,c])]),this.bn=a([a([r,s]),a([r,s,h])]),this.cp=a([r,s,c]),this.cn=a([r,s,h]),this.dp=a([s,c]),this.dn=a([r,h]),this.ep=a([a([s,i,c]),a([s,i])]),this.en=a([a([r,t,h]),a([r,t])]),this.fp=a([s,i,c]),this.fn=a([r,t,h]),this.gp=a([a([s,c]),a([i,c])]),this.gn=a([a([r,h]),a([t,h])]),this.hp=a([i,c]),this.hn=a([t,h]),this.ip=c,this.in=h,this.jp=a([i,r,c,c]),this.jn=a([t,s,h,h]),this.kp=a([r,c,i]),this.kn=a([s,h,t])}calculVertex(e,s,r){const i=1+this.picsHeight/80,t={x:(e.x+s.x+r.x)/3,y:(e.y+s.y+r.y)/3,z:(e.z+s.z+r.z)/3};return new C(t.x*i,t.y*i,t.z*i)}forEachPoints(e){this.ap=e(this.ap),this.an=e(this.an),this.ac=e(this.ac),this.bp=e(this.bp),this.bn=e(this.bn),this.cp=e(this.cp),this.cn=e(this.cn),this.dp=e(this.dp),this.dn=e(this.dn),this.ep=e(this.ep),this.en=e(this.en),this.fp=e(this.fp),this.fn=e(this.fn),this.gp=e(this.gp),this.gn=e(this.gn),this.hp=e(this.hp),this.hn=e(this.hn),this.ip=e(this.ip),this.in=e(this.in),this.jp=e(this.jp),this.jn=e(this.jn),this.kp=e(this.kp),this.kn=e(this.kn)}}class _e{constructor(){}getIcosaedre(e,s){const r=(Math.sqrt(5)+1)/2*200/2*e,i=200/2*e,t=[new C(0,-i,-r),new C(0,i,-r),new C(-r,0,-i),new C(-r,0,i),new C(i,-r,0),new C(i,r,0),new C(r,0,-i),new C(-i,r,0),new C(-i,-r,0),new C(0,i,r),new C(0,-i,r),new C(r,0,i)];return[new R(s,t[0],t[1],t[2],t[6]),new R(s,t[0],t[2],t[8],t[1]),new R(s,t[1],t[2],t[0],t[7]),new R(s,t[2],t[7],t[3],t[1]),new R(s,t[1],t[7],t[2],t[5]),new R(s,t[5],t[7],t[1],t[9]),new R(s,t[1],t[5],t[7],t[6]),new R(s,t[5],t[6],t[11],t[1]),new R(s,t[1],t[6],t[5],t[0]),new R(s,t[0],t[6],t[1],t[4]),new R(s,t[4],t[6],t[0],t[11]),new R(s,t[0],t[4],t[6],t[8]),new R(s,t[0],t[8],t[4],t[2]),new R(s,t[4],t[8],t[10],t[0]),new R(s,t[2],t[8],t[0],t[3]),new R(s,t[3],t[8],t[2],t[10]),new R(s,t[2],t[3],t[8],t[7]),new R(s,t[3],t[7],t[9],t[2]),new R(s,t[3],t[9],t[10],t[7]),new R(s,t[7],t[9],t[3],t[5]),new R(s,t[5],t[9],t[7],t[11]),new R(s,t[9],t[11],t[10],t[5]),new R(s,t[5],t[11],t[9],t[6]),new R(s,t[6],t[11],t[5],t[4]),new R(s,t[4],t[11],t[6],t[10]),new R(s,t[10],t[11],t[4],t[9]),new R(s,t[4],t[10],t[11],t[8]),new R(s,t[8],t[10],t[4],t[3]),new R(s,t[9],t[10],t[3],t[11]),new R(s,t[3],t[10],t[8],t[9])]}}class Vt{constructor(e,s,r){F(this,"staredSolid");F(this,"name");F(this,"picSize");F(this,"size");this.name=e,this.picSize=r,this.size=s,this.staredSolid=this.getSolid()}updateSolidName(e){this.name=e,this.updateSolid(this.size,this.picSize)}updateSolid(e,s){this.size=e,this.picSize=s,this.staredSolid=this.getSolid()}getSolid(){switch(this.name){case"icosaedre":default:return new _e().getIcosaedre(this.size,this.picSize)}}}var Fe=[{name:"discret",palette:["#232D3A","#232D3A","#232D3A","#232D3A","#232D3A","#232D3A","#232D3A","#232D3A","#232D3A","#232D3A","#232D3A","#232D3A","#232D3A","#232D3A","#232D3A","#232D3A","#232D3A","#232D3A","#232D3A","#232D3A","#232D3A","#232D3A","#232D3A","#232D3A","#232D3A","#232D3A","#232D3A","#232D3A","#232D3A","#232D3A"],type:"unicolor"},{name:"default",palette:["#1f9739","#55770e","#2a4c3b","#561557","#203582","#3b3ac8","#0f71ac","#2ab3c5","#0fad7f","#3ad953","#6ff97d","#7fe238","#90a60d","#c5c638","#9b5b0f","#d64d3b","#9b1f3c","#910783","#c627ad","#811ec8","#705af3","#ab89f2","#65a5f1","#65e1c4","#aaeba9","#d6b4c5","#e0cb7e","#f18f54","#e169c7","#f15381"],type:"default"},{name:"white",palette:["#FFF5EE","#FFF5EE","#FFF5EE","#FFF5EE","#FFF5EE","#FFF5EE","#FFF5EE","#FFF5EE","#FFF5EE","#FFF5EE","#FFF5EE","#FFF5EE","#FFF5EE","#FFF5EE","#FFF5EE","#FFF5EE","#FFF5EE","#FFF5EE","#FFF5EE","#FFF5EE","#FFF5EE","#FFF5EE","#FFF5EE","#FFF5EE","#FFF5EE","#FFF5EE","#FFF5EE","#FFF5EE","#FFF5EE","#FFF5EE"],type:"unicolor"},{name:"gradient",palette:["#face6e","#f8b268","#ef9767","#e17e69","#cd686d","#b5566f","#98486e","#783d6b","#573363","#342a58","#FFF5EE","#FFF5EE","#FFF5EE","#FFF5EE","#FFF5EE","#FFF5EE","#FFF5EE","#FFF5EE","#FFF5EE","#FFF5EE","#FFF5EE","#FFF5EE","#FFF5EE","#FFF5EE","#FFF5EE","#FFF5EE","#FFF5EE","#FFF5EE","#FFF5EE","#FFF5EE"],type:"gradient 10"}];const ke=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Me=[0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,0,1,1,0,1,1,0,1,1,1,1,1,1,1],Ee=[0,0,1,0,1,1,1,1,1,0,0,0,0,1,0,0,0,0,0,0,1,1,1,0,1,1,1,1,1,0];var Ce={unicolor:ke,bicolor:Me,tennis:Ee,"mixe 3":[0,1,2,1,0,2,1,0,2,1,0,2,0,1,2,1,0,2,1,0,1,0,2,1,2,1,0,2,2,0],"special 3":[0,0,0,1,1,1,0,0,0,2,2,2,0,1,0,1,1,1,2,2,0,2,0,2,2,2,1,1,2,1],"gradient 4":[0,1,0,1,0,1,0,1,0,1,1,2,1,2,2,2,1,2,2,1,2,2,1,2,2,3,3,3,3,3],"mixe 5":[0,1,2,3,4,0,1,2,3,4,1,2,3,0,4,2,0,1,4,2,3,1,4,0,3,2,4,1,0,3],"special 5":[0,1,2,0,3,1,4,0,1,3,2,4,3,1,3,0,4,2,3,4,2,1,3,4,1,2,3,4,0,1],"mixe 6":[0,1,2,3,1,4,3,0,4,2,5,4,5,1,0,3,5,2,4,5,1,0,5,3,2,1,3,4,2,0],"gradient 10":[3,1,4,6,8,9,7,6,5,2,1,0,0,0,2,3,5,7,8,9,9,7,8,4,3,5,2,1,6,4],"mixe 15":[0,1,2,3,4,5,6,7,8,9,10,11,12,5,13,7,14,10,9,11,12,1,13,14,3,2,4,6,0,8],default:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29]};class jt{constructor(){F(this,"colors");F(this,"theme");F(this,"number");F(this,"palettePreset");F(this,"modePreset");this.palettePreset=Fe,this.modePreset=Ce,this.colors=this.palettePreset[1].palette,this.theme="default",this.number=30}changePreset(e){const s=this.palettePreset.findIndex(r=>r.name==e);s!=-1&&(this.colors=this.palettePreset[s].palette,this.theme=this.palettePreset[s].type)}changeColor(e,s){this.colors[e]=s}getPalette(){return this.modePreset[this.theme]?this.getColors(this.modePreset[this.theme]):this.getColors(this.modePreset.default)}getModeList(){return Object.keys(this.modePreset)}getColors(e){let s=0;const r=[];for(const i of e)r.push(this.colors[i]),i>s&&(s=i);return this.number=s+1,r}}class Ie{constructor(){F(this,"lastRotation",[new C,new C])}rotatePoints(e,s,r,i=.9){let t=s;t===void 0&&(t=this.lastRotation[0]),r?(t.x*=i,t.y*=i):(t.x=this.lastRotation[0].x*i,t.y=this.lastRotation[0].y*i,this.lastRotation[0]=t);const c=t.y%360*(Math.PI/180)*1,h=-t.x%360*(Math.PI/180)*1,a=Math.sin(c),u=Math.cos(c),p=Math.sin(h),v=Math.cos(h),B=new Vt(e.name,e.size,e.picSize),x=e.staredSolid,l=B.staredSolid;for(const f in x)if(Object.prototype.hasOwnProperty.call(x,f)){const g=x[f];g.forEachPoints(n=>{const U=new C(n.x,n.y,n.z),it=U.y*u-U.z*a;let mt=U.z*u+U.y*a;const tt=U.x*v+mt*p;return mt=mt*v-U.x*p,new C(tt,it,mt)}),l[f]=g}return B}}class Dt{constructor(e,s,r){F(this,"size");F(this,"solid");F(this,"rotation");F(this,"palette");F(this,"definition");F(this,"selectedColor");F(this,"state");F(this,"ctx");F(this,"second",1e3);this.solid=e,this.rotation=new Ie,this.palette=s,this.definition=512,this.size=1,this.selectedColor=null,this.state={play:!1,rotation:new C(.3,0),frameInterval:null,firstFrame:!0,fps:30,mouse:{position:new C(0,0),downed:!1}},this.ctx=r}generateCanvas(e=!1){let s=null,r=1,i=2.3;e&&(s=this.ctx,s&&(s.canvas.width=512,s.canvas.height=512),r=1.2);const c=Math.pow(10,3),h=x=>{const l=g=>{const n=1e3/i/(2e3/i+x.z)*(r*this.definition/500);return g*n},f=g=>Math.round(g*c)/c;return{x:f(l(x.x)+this.definition/2),y:f(l(x.y)+this.definition/2)}},a=[],u=(x,l,f)=>{f&&(l-=3);const g={action:x,z:l,selected:f};let n=!0,U=0;for(;n;)(a.length<=U||l>=a[U].z)&&(a.splice(U,0,g),n=!1),U++};this.ctx!==void 0&&this.ctx.clearRect(0,0,this.definition,this.definition),this.ctx.lineWidth=this.definition/300;let p=0;const v=this.solid.staredSolid,B=this.palette.getPalette();for(const x in v)if(v.hasOwnProperty(x)){const l=v[x],f=this.palette.modePreset[this.palette.theme][p]==this.selectedColor,g=B[p++];let n={x:0,y:0};u(()=>{this.ctx.fillStyle=g,this.ctx.lineCap="butt",this.ctx.lineJoin="bevel",this.ctx.beginPath(),n=h(l.ac),this.ctx.lineTo(n.x,n.y),n=h(l.ap),this.ctx.lineTo(n.x,n.y),n=h(l.bp),this.ctx.lineTo(n.x,n.y),this.ctx.closePath(),this.ctx.stroke(),this.ctx.fill(),this.ctx.beginPath(),n=h(l.an),this.ctx.lineTo(n.x,n.y),n=h(l.cp),this.ctx.lineTo(n.x,n.y),n=h(l.ac),this.ctx.lineTo(n.x,n.y),n=h(l.an),this.ctx.lineTo(n.x,n.y),this.ctx.closePath(),this.ctx.stroke(),this.ctx.fill(),this.ctx.beginPath(),n=h(l.an),this.ctx.lineTo(n.x,n.y),n=h(l.dp),this.ctx.lineTo(n.x,n.y),n=h(l.cp),this.ctx.lineTo(n.x,n.y),this.ctx.closePath(),this.ctx.stroke(),this.ctx.fill()},l.cp.z,f),u(()=>{this.ctx.fillStyle=g,this.ctx.lineCap="butt",this.ctx.lineJoin="bevel",this.ctx.beginPath(),n=h(l.ac),this.ctx.lineTo(n.x,n.y),n=h(l.an),this.ctx.lineTo(n.x,n.y),n=h(l.bn),this.ctx.lineTo(n.x,n.y),this.ctx.closePath(),this.ctx.stroke(),this.ctx.fill(),this.ctx.beginPath(),n=h(l.ap),this.ctx.lineTo(n.x,n.y),n=h(l.ac),this.ctx.lineTo(n.x,n.y),n=h(l.cn),this.ctx.lineTo(n.x,n.y),n=h(l.ap),this.ctx.lineTo(n.x,n.y),this.ctx.closePath(),this.ctx.stroke(),this.ctx.fill(),this.ctx.beginPath(),n=h(l.ap),this.ctx.lineTo(n.x,n.y),n=h(l.dn),this.ctx.lineTo(n.x,n.y),n=h(l.cn),this.ctx.lineTo(n.x,n.y),this.ctx.closePath(),this.ctx.stroke(),this.ctx.fill()},l.cn.z,f),u(()=>{this.ctx.fillStyle=g,this.ctx.lineCap="butt",this.ctx.lineJoin="bevel",this.ctx.beginPath(),n=h(l.hp),this.ctx.lineTo(n.x,n.y),n=h(l.fp),this.ctx.lineTo(n.x,n.y),n=h(l.ep),this.ctx.lineTo(n.x,n.y),n=h(l.an),this.ctx.lineTo(n.x,n.y),n=h(l.dp),this.ctx.lineTo(n.x,n.y),n=h(l.gp),this.ctx.lineTo(n.x,n.y),this.ctx.closePath(),this.ctx.stroke(),this.ctx.fill(),this.ctx.beginPath(),n=h(l.hp),this.ctx.lineTo(n.x,n.y),n=h(l.gp),this.ctx.lineTo(n.x,n.y),n=h(l.ip),this.ctx.lineTo(n.x,n.y),n=h(l.hp),this.ctx.lineTo(n.x,n.y),this.ctx.closePath(),this.ctx.stroke(),this.ctx.fill()},l.fp.z,f),u(()=>{this.ctx.fillStyle=g,this.ctx.lineCap="butt",this.ctx.lineJoin="bevel",this.ctx.beginPath(),n=h(l.gn),this.ctx.lineTo(n.x,n.y),n=h(l.dn),this.ctx.lineTo(n.x,n.y),n=h(l.ap),this.ctx.lineTo(n.x,n.y),n=h(l.en),this.ctx.lineTo(n.x,n.y),n=h(l.fn),this.ctx.lineTo(n.x,n.y),n=h(l.hn),this.ctx.lineTo(n.x,n.y),this.ctx.closePath(),this.ctx.stroke(),this.ctx.fill(),this.ctx.beginPath(),n=h(l.gn),this.ctx.lineTo(n.x,n.y),n=h(l.in),this.ctx.lineTo(n.x,n.y),n=h(l.hn),this.ctx.lineTo(n.x,n.y),n=h(l.gn),this.ctx.lineTo(n.x,n.y),this.ctx.closePath(),this.ctx.stroke(),this.ctx.fill()},l.fn.z,f),u(()=>{this.ctx.fillStyle=g,this.ctx.lineCap="butt",this.ctx.lineJoin="bevel",this.ctx.beginPath(),n=h(l.ip),this.ctx.moveTo(n.x,n.y),n=h(l.jp),this.ctx.lineTo(n.x,n.y),n=h(l.hp),this.ctx.lineTo(n.x,n.y),this.ctx.closePath(),this.ctx.stroke(),this.ctx.fill()},l.kp.z,f),u(()=>{this.ctx.fillStyle=g,this.ctx.lineCap="butt",this.ctx.lineJoin="bevel",this.ctx.beginPath(),n=h(l.jn),this.ctx.moveTo(n.x,n.y),n=h(l.in),this.ctx.lineTo(n.x,n.y),n=h(l.hn),this.ctx.lineTo(n.x,n.y),this.ctx.closePath(),this.ctx.stroke(),this.ctx.fill()},l.kn.z,f)}for(const x of a)x.selected?this.ctx.strokeStyle="#fff":this.ctx.strokeStyle="#000",x.action();if(e)return this.ctx}updateSolid(e){this.solid.updateSolidName(e)}pause(){this.state.play=!1}play(){this.state.play=!0,this.state.frameInterval=setInterval(()=>{this.state.mouse.position.x+=this.state.rotation.x-.1,this.state.mouse.position.y+=this.state.rotation.y,this.state.firstFrame?(this.state.firstFrame=!1,this.solid=this.rotation.rotatePoints(this.solid,new C)):this.solid=this.rotation.rotatePoints(this.solid,this.state.mouse.position,this.state.mouse.downed),this.generateCanvas(),this.state.play||clearInterval(this.state.frameInterval)},this.second/this.state.fps)}setDirection(e,s){this.state.rotation=new C(Math.cos((e-90)*Math.PI/180)*s,Math.sin((e-90)*Math.PI/180)*s)}}var _t=(o,e)=>{const s=o.__vccOpts||o;for(const[r,i]of e)s[r]=i;return s};const Se={name:"circle-slider",created(){},mounted(){this.container=this.$refs.circle,this.slider=this.$refs.slider,this.size==null&&(this.size=100);const o=this.$refs["slider-container"],e=this.updateValue;window.addEventListener("DOMMouseScroll",function(s){s.target==o&&e(s.detail,!0)},!1)},updated(){this.value=this.initialValue},computed:{},props:{initialValue:{type:Number,default:0},dynamicBackground:{type:String},staticBackground:{type:String},foreground:{type:String},size:{type:Number,default:160}},data(){return{value:this.initialValue,container:Element,slider:Element,mouseDowned:!1,lastAngle:0}},methods:{mouseDown(o){this.mouseDowned=!0,this.mouseMove(o)},mouseUp(){this.mouseDowned=!1},mouseMove(o){if(this.mouseDowned){var e=this.size/2,s=0,r={x:this.container.offsetLeft,y:this.container.offsetTop},i={x:o.clientX-r.x,y:o.clientY-r.y},t=Math.atan2(i.x-e,i.y-e);s=-t/(Math.PI/180)+180,this.updateValue(s)}},updateValue(o,e=!1){var s=o;for(e&&(s=o+this.value),this.value=Math.round(s);this.value<0;)this.value+=360;for(;this.value>360;)this.value-=360;this.$emit("input",this.value)}}};function Pe(o,e,s,r,i,t){return W(),Y("div",{class:"circle mx-4",ref:"circle",onMousedown:e[0]||(e[0]=(...c)=>t.mouseDown&&t.mouseDown(...c)),onMouseup:e[1]||(e[1]=(...c)=>t.mouseUp&&t.mouseUp(...c)),onMousemove:e[2]||(e[2]=(...c)=>t.mouseMove&&t.mouseMove(...c)),style:ct(`background:${s.staticBackground}; --size:${s.size}px`)},[j("span",{class:"label text-2xl font-bold",style:ct("background:"+s.dynamicBackground+"; color:"+s.foreground)},It(i.value)+"\xB0 ",5),j("div",{class:"slider-container",ref:"slider-container",style:ct("transform: rotate("+i.value+"deg)")},[j("div",{class:"slider",ref:"slider",style:ct("background:"+s.foreground)},null,4)],4)],36)}var Rt=_t(Se,[["render",Pe],["__scopeId","data-v-f18a7760"]]);const Te={components:{CircleSlider:Rt},name:"screen",created(){this.solid=new Vt("icosaedre",1,120)},mounted(){const o=this.$refs.screen.getContext("2d");this.screen=new Dt(this.solid,this.palette,o),this.screen.definition=this.$refs.screen.clientWidth,this.screen.play(),window.addEventListener("resize",()=>{this.screen.definition=this.$refs.screen.clientWidth})},data(){return{solid:Vt,screen:Dt}},props:{palette:jt},methods:{touchStart(o){this.screen.state.mouse.downed=!0},touchMove(o){this.screen.state.mouse.downed},touchEnd(o){this.screen.state.mouse.downed=!1},mouseUp(o){this.screen.state.mouse.downed=!1},mouseDown(){this.screen.generateCanvas(),this.screen.state.mouse.downed=!0},mouseMove(o){this.screen.state.mouse.downed&&this.screen.state.mouse.position.addPosition(o.movementX*.3,o.movementY*.3)},getDefinition(){return 500}}},ze=["width","height"];function De(o,e,s,r,i,t){return W(),Y("canvas",{id:"screen",ref:"screen",class:xt("screen "),width:i.screen.definition,height:i.screen.definition,onTouchstart:e[0]||(e[0]=c=>t.touchStart(c)),onTouchmove:e[1]||(e[1]=c=>t.touchMove(c)),onTouchend:e[2]||(e[2]=c=>t.touchEnd(c)),onMousedown:e[3]||(e[3]=c=>t.mouseDown(c))},null,42,ze)}var ee=_t(Te,[["render",De],["__scopeId","data-v-8371bd70"]]);const Be={name:"menu",created(){},data(){return{selectedMenu:"palette"}},components:{AdjustmentsIcon:fe,CogIcon:pe,DownloadIcon:ge},methods:{selectTheMenu(o){this.$emit("select",o),this.selectedMenu=o},getMenuStyle(o){const e="rounded-full p-2 h-10 w-10 cursor-pointer ";return o==this.selectedMenu?e+"bg-gray-900 text-white":e+"text-gray-300 hover:bg-gray-700 hover:text-white"}},mounted(){}},Ae={class:"h-16 flex items-center justify-center menu flex space-x-4 py-4"};function Le(o,e,s,r,i,t){const c=pt("AdjustmentsIcon"),h=pt("CogIcon"),a=pt("DownloadIcon");return W(),Y("div",Ae,[et(c,{class:xt(t.getMenuStyle("palette")),onClick:e[0]||(e[0]=u=>t.selectTheMenu("palette"))},null,8,["class"]),et(h,{class:xt(t.getMenuStyle("option")),onClick:e[1]||(e[1]=u=>t.selectTheMenu("option"))},null,8,["class"]),et(a,{class:xt(t.getMenuStyle("download")),onClick:e[2]||(e[2]=u=>t.selectTheMenu("download"))},null,8,["class"])])}var se=_t(Be,[["render",Le],["__scopeId","data-v-ed1c3994"]]);const $e={name:"slider",mounted(){const o=this.$refs["color-slider"];window.addEventListener("DOMMouseScroll",function(e){e.target==o&&(o.value=parseInt(o.value)-e.detail,o.dispatchEvent(new Event("input",{bubbles:!0})))},!1)},updated(){},data(){return{}},computed:{},props:{value:Number,staticBackground:String,dynamicBackground:String,foreground:String,unit:{type:String,default:""},max:{type:Number,default:100}},methods:{change(o){this.$emit("input",parseInt(o.target.value))}}},Re=["max","value"],Oe={class:"value"};function Ne(o,e,s,r,i,t){return W(),Y("div",{class:"color slider rounded m-4",style:ct("background:"+s.staticBackground+"; color:"+s.foreground)},[j("input",{type:"range",ref:"color-slider",class:"form-range appearance-none w-full h-0 p-0",min:"0",style:ct("background:"+s.dynamicBackground),max:s.max,value:s.value},null,12,Re),j("span",Oe,It(s.value)+It(s.unit),1)],4)}var Xt=_t($e,[["render",Ne]]);const Ue={components:{Slider:Xt,CircleSlider:Rt,ClipboardCopyIcon:ve,RefreshIcon:Yt,XIcon:xe},name:"color-picker",created(){this.hexToColor(this.value),localStorage.colorPickerMode&&(this.mode=localStorage.colorPickerMode)},mounted(){this.mode=="hex"&&this.setFocusHexInput()},updated(){this.$emit("update",this.hexadecimal)},data(){return{mode:"rgb",red:0,green:0,blue:0,hue:0,saturation:0,lightness:0,hexInput:""}},computed:{hexadecimal(){return"#"+((1<<24)+((this.red<<16)+(this.green<<8)+(this.blue<<0))).toString(16).slice(1).toUpperCase()},contrastedColor(){var o=(this.red*.299+this.green*.587+this.blue*.114)/128;return o>1?"#000":"#fff"}},props:{value:{type:String,default:"#000000"}},methods:{getMenuStyle(o){const e="rounded-full px-4 cursor-pointer ";return o==this.mode?e+"bg-black text-white":e+"bg-white text-black"},hslUpdate(){let o=this.hue,e=this.saturation,s=this.lightness;e/=100,s/=100;const r=c=>(c+o/30)%12,i=e*Math.min(s,1-s),t=c=>s-i*Math.max(-1,Math.min(r(c)-3,Math.min(9-r(c),1)));this.red=Math.round(255*t(0)),this.green=Math.round(255*t(8)),this.blue=Math.round(255*t(4))},changeMode(o){this.mode=o,localStorage.colorPickerMode=o,this.hexInput=this.hexadecimal,o=="hex"&&this.setFocusHexInput()},checkHex(o){const e=o.target.selectionStart;this.hexInput=this.hexInput.replace(/[^0-9a-fA-F]/g,""),this.hexInput.length>6&&(this.hexInput=this.hexInput.substr(0,6)),o.data!=null&&!"0123456789abcdefABCDEF".includes(o.data)&&setTimeout(()=>{o.target.setSelectionRange(e-1,e-1)},1),this.hexInput="#"+this.hexInput,this.hexToColor(this.hexInput,!1)},hexToColor(o,e=!0){o=o.substring(1);let s="";switch(o.length){case 6:s=/^([a-fA-F\d]{2})([a-fA-F\d]{2})([a-fA-F\d]{2})$/i.exec(o),this.red=parseInt(s[1],16),this.green=parseInt(s[2],16),this.blue=parseInt(s[3],16);break;case 3:s=/^([a-fA-F\d])([a-fA-F\d])([a-fA-F\d])$/i.exec(o),this.red=parseInt(s[1],16)*17,this.green=parseInt(s[2],16)*17,this.blue=parseInt(s[3],16)*17}let r=this.red/255,i=this.green/255,t=this.blue/255;const c=Math.max(r,i,t),h=c-Math.min(r,i,t),a=h?c===r?(i-t)/h:c===i?2+(t-r)/h:4+(r-i)/h:0;this.hue=Math.round(60*a<0?60*a+360:60*a),this.saturation=Math.round(100*(h?c<=.5?h/(2*c-h):h/(2-(2*c-h)):0)),this.lightness=Math.round(100*(2*c-h)/2),e&&(this.hexInput=this.hexadecimal)},setValue(o){this.setFocusHexInput(),this.hexToColor(o)},clipboardCopy(){navigator.clipboard.writeText(this.hexInput)},setFocusHexInput(){setTimeout(()=>{this.$refs.hex&&(this.$refs.hex.focus(),this.$refs.hex.setSelectionRange(0,7))},1)},random(){this.hexToColor("#"+(Math.random()*16777215<<0).toString(16).padStart(6,"0"))},close(){this.$emit("close")}}},We={class:"flex-1 h-16 block relative w-auto flex items-center justify-center menu flex space-x-4 p-4"},je={class:"rgb"},Ge={class:"hsl"},Ve={key:0,class:"hex flex"};function qe(o,e,s,r,i,t){const c=pt("RefreshIcon"),h=pt("XIcon"),a=pt("slider"),u=pt("circle-slider"),p=pt("ClipboardCopyIcon");return W(),Y("div",{class:"option rounded pb-2 text-2xl font-bold",style:ct(`
    --red: ${i.red};
    --green: ${i.green};
    --blue:${i.blue};
    --selection: ${t.contrastedColor}a;
    `)},[et(c,{class:"inline p-2 h-10 w-10 cursor-pointer float-left",style:ct(`color: ${t.contrastedColor}`),onClick:t.random},null,8,["style","onClick"]),et(h,{class:"inline p-2 h-10 w-10 cursor-pointer float-right",style:ct(`color: ${t.contrastedColor}`),onClick:t.close},null,8,["style","onClick"]),j("div",We,[j("span",{class:xt(t.getMenuStyle("rgb")),onClick:e[0]||(e[0]=v=>t.changeMode("rgb"))},"rgb",2),j("span",{class:xt(t.getMenuStyle("hsl")),onClick:e[1]||(e[1]=v=>t.changeMode("hsl"))},"hsl",2),j("span",{class:xt(t.getMenuStyle("hex")),onClick:e[2]||(e[2]=v=>t.changeMode("hex"))},"hex",2)]),j("span",{class:"hex rounded-full w-0 text-xl",style:ct(`color:${t.hexadecimal}; background-color: ${t.contrastedColor}`)},It(t.hexadecimal),5),Ot(j("div",je,[et(a,{staticBackground:"linear-gradient(to right, #000, #f00)",foreground:"#800",dynamicBackground:`linear-gradient(to right, rgb(0, ${i.green}, ${i.blue}), rgb(255, ${i.green}, ${i.blue}))`,max:255,value:i.red,onInput:e[3]||(e[3]=v=>i.red=parseInt(v.target.value))},null,8,["staticBackground","dynamicBackground","value"]),et(a,{staticBackground:"linear-gradient(to right, #000, #0f0)",foreground:"#080",dynamicBackground:`linear-gradient(to right, rgb(${i.red}, 0, ${i.blue}), rgb(${i.red}, 255, ${i.blue}))`,max:255,value:i.green,onInput:e[4]||(e[4]=v=>i.green=parseInt(v.target.value))},null,8,["staticBackground","dynamicBackground","value"]),et(a,{staticBackground:"linear-gradient(to right, #000, #00f)",foreground:"#008",dynamicBackground:`linear-gradient(to right, rgb(${i.red}, ${i.green}, 0), rgb(${i.red}, ${i.green}, 255))`,max:255,value:i.blue,onInput:e[5]||(e[5]=v=>i.blue=parseInt(v.target.value))},null,8,["staticBackground","dynamicBackground","value"])],512),[[Gt,i.mode=="rgb"]]),Ot(j("div",Ge,[et(u,{class:"hue",staticBackground:"conic-gradient(#f00, #ff0, #0f0, #0ff, #00f, #f0f, #f00)",foreground:t.contrastedColor,dynamicBackground:`conic-gradient(hsl(0, ${i.saturation}%, ${i.lightness}%), hsl(60, ${i.saturation}%, ${i.lightness}%), hsl(120, ${i.saturation}%, ${i.lightness}%), hsl(180, ${i.saturation}%, ${i.lightness}%), hsl(240, ${i.saturation}%, ${i.lightness}%), hsl(300, ${i.saturation}%, ${i.lightness}%), hsl(360, ${i.saturation}%, ${i.lightness}%))`,"initial-value":i.hue,size:88,onInput:e[6]||(e[6]=v=>{i.hue=v,t.hslUpdate()})},null,8,["staticBackground","foreground","dynamicBackground","initial-value"]),et(a,{staticBackground:`linear-gradient(to right, hsl(${i.hue}, 0%, 50%), hsl(${i.hue}, 100%, 50%))`,dynamicBackground:`linear-gradient(to right, hsl(${i.hue}, 0%, ${i.lightness}%), hsl(${i.hue}, 100%, ${i.lightness}%))`,foreground:"#888",unit:"%",value:i.saturation,onInput:e[7]||(e[7]=v=>{i.saturation=parseInt(v.target.value),t.hslUpdate()})},null,8,["staticBackground","dynamicBackground","value"]),et(a,{staticBackground:"linear-gradient(to right, #000, #fff)",dynamicBackground:`linear-gradient(to right, hsl(${i.hue}, ${i.saturation}%, 0%), hsl(${i.hue}, ${i.saturation}%, 50%), hsl(${i.hue}, ${i.saturation}%, 100%))`,foreground:"#000",unit:"%",value:i.lightness,onInput:e[8]||(e[8]=v=>{i.lightness=parseInt(v.target.value),t.hslUpdate()})},null,8,["staticBackground","dynamicBackground","value"])],512),[[Gt,i.mode=="hsl"]]),i.mode=="hex"?(W(),Y("div",Ve,[Ot(j("input",{class:"form-control px-0 py-1 mb-0 bg-transparent transition ease-in-out text-center font-bold border border-solid rounded focus:outline-none",style:ct(`color:${t.contrastedColor}; border-color: ${t.contrastedColor}`),type:"text","onUpdate:modelValue":e[9]||(e[9]=v=>i.hexInput=v),ref:"hex",onInput:e[10]||(e[10]=(...v)=>t.checkHex&&t.checkHex(...v))},null,36),[[me,i.hexInput]]),et(p,{class:"inline p-0 h-10 w-10 cursor-pointer",style:ct(`color: ${t.contrastedColor}`),onClick:t.clipboardCopy},null,8,["style","onClick"])])):$t("",!0)],4)}var Qe=_t(Ue,[["render",qe],["__scopeId","data-v-cf42a774"]]);const Je={components:{ColorPicker:Qe,CircleSlider:Rt,RefreshIcon:Yt},name:"palette",created(){this.themes=this.palette.getModeList()},data(){return{menuTitle:"palette menu",themes:[]}},props:{palette:jt,screen:Screen},methods:{selectColor(o){o==this.screen.selectedColor?this.screen.selectedColor=null:(this.screen.selectedColor=o,this.$refs["color-picker"]&&this.$refs["color-picker"].setValue(this.palette.colors[this.screen.selectedColor]))},selectTheme(o){this.screen.selectedColor=null,this.palette.theme=o},selectPreset(o){this.screen.selectedColor=null,this.palette.changePreset(o)},random(){const o=Array.from(Array(30)).map(()=>"#"+(Math.random()*16777215<<0).toString(16).padStart(6,"0"));console.log(o),this.palette.colors=o}}},Zt=o=>(Kt("data-v-a39e6674"),o=o(),Ht(),o),Xe={class:"palette text-4xl font-bold"},Ze={class:"palette"},Ye=Zt(()=>j("span",{class:"mt-4 w-full block"},"Presets",-1)),Ke={class:"presets"},He=["onClick"],ts=Zt(()=>j("span",{class:"mt-4 w-full block"},"Theme",-1)),es={class:"themes"},ss=["onClick"],is=Zt(()=>j("span",{class:"mt-4 w-full block"},"Palette",-1)),ns=["onClick"];function rs(o,e,s,r,i,t){const c=pt("RefreshIcon"),h=pt("color-picker");return W(),Y("div",Xe,[j("div",Ze,[Ye,j("div",Ke,[(W(!0),Y(Nt,null,Ut(s.palette.palettePreset,(a,u)=>(W(),Y("button",{key:u,class:xt("preset text-base font-bold inline-block rounded-full hover:bg-gray-300 hover:text-gray-900 active:text-gray-200 active:bg-gray-900 focus:outline-none px-2 mx-1 bg-white text-black'"),onClick:p=>t.selectPreset(a.name)},It(a.name),9,He))),128)),et(c,{class:"inline p-2 h-10 w-10 cursor-pointer",onClick:t.random},null,8,["onClick"])]),ts,j("div",es,[(W(!0),Y(Nt,null,Ut(i.themes,(a,u)=>(W(),Y("button",{key:u,class:xt(`theme text-base font-bold inline-block rounded-full active:text-gray-200 active:bg-gray-900 focus:outline-none px-2 mx-1  ${s.palette.theme==a?"selected bg-black text-white hover:hover:text-gray-200 ":"bg-white text-black hover:bg-gray-300 hover:text-gray-900"}`),onClick:p=>t.selectTheme(a)},It(a),11,ss))),128))]),is,(W(!0),Y(Nt,null,Ut(s.palette.colors,(a,u)=>Ot((W(),Y("div",{key:u,class:xt(`color inline-block rounded ${s.screen.selectedColor==u?"selected":""}`),style:ct(`color:${a}`),onClick:p=>t.selectColor(u)},null,14,ns)),[[Gt,u<s.palette.number]])),128)),s.screen.selectedColor!=null?(W(),Wt(h,{key:0,ref:"color-picker",value:this.palette.colors[s.screen.selectedColor],onUpdate:e[0]||(e[0]=a=>this.palette.colors[s.screen.selectedColor]=a),onClose:e[1]||(e[1]=a=>s.screen.selectedColor=null)},null,8,["value"])):$t("",!0)])])}var ie=_t(Je,[["render",rs],["__scopeId","data-v-a39e6674"]]);const os={components:{CircleSlider:Rt,Slider:Xt},name:"option",created(){this.speed=100*Math.sqrt(Math.pow(this.screen.state.rotation.x,2)+Math.pow(this.screen.state.rotation.y,2)),this.direction=(Math.atan2(this.screen.state.rotation.y,this.screen.state.rotation.x)/Math.PI*180+450)%360},data(){return{direction:0,speed:0}},props:{screen:Dt},methods:{changeDirection(o){this.direction=o,this.screen.setDirection(this.direction,this.speed/100)},changeSpeed(o){this.speed=parseInt(o),this.screen.setDirection(this.direction,this.speed/100)}},mounted(){}},as={class:"option text-2xl font-bold"},ls=te(" option menu ");function hs(o,e,s,r,i,t){const c=pt("circle-slider"),h=pt("slider");return W(),Y("div",as,[ls,et(c,{dynamicBackground:"#ffffff",staticBackground:"#000000",foreground:"#000","initial-value":i.direction,size:160,onInput:e[0]||(e[0]=a=>t.changeDirection(a))},null,8,["initial-value"]),et(h,{dynamicBackground:"#ffffff",staticBackground:"#000000",foreground:"#000",value:i.speed,onInput:e[1]||(e[1]=a=>t.changeSpeed(a.target.value))},null,8,["value"])])}var qt=_t(os,[["render",hs],["__scopeId","data-v-77c0759e"]]);(function(o){if(typeof re=="object"&&typeof Jt!="undefined")Jt.exports=o();else if(typeof define=="function"&&define.amd)define([],o);else{var e;typeof window!="undefined"?e=window:typeof global!="undefined"?e=global:typeof self!="undefined"?e=self:e=this,e.GIF=o()}})(function(){return function o(e,s,r){function i(h,a){if(!s[h]){if(!e[h]){var u=typeof require=="function"&&require;if(!a&&u)return u(h,!0);if(t)return t(h,!0);var p=new Error("Cannot find module '"+h+"'");throw p.code="MODULE_NOT_FOUND",p}var v=s[h]={exports:{}};e[h][0].call(v.exports,function(B){var x=e[h][1][B];return i(x||B)},v,v.exports,o,e,s,r)}return s[h].exports}for(var t=typeof require=="function"&&require,c=0;c<r.length;c++)i(r[c]);return i}({1:[function(o,e,s){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(a){if(!t(a)||a<0||isNaN(a))throw TypeError("n must be a positive number");return this._maxListeners=a,this},r.prototype.emit=function(a){var u,p,v,B,x,l;if(this._events||(this._events={}),a==="error"&&(!this._events.error||c(this._events.error)&&!this._events.error.length)){if(u=arguments[1],u instanceof Error)throw u;var f=new Error('Uncaught, unspecified "error" event. ('+u+")");throw f.context=u,f}if(p=this._events[a],h(p))return!1;if(i(p))switch(arguments.length){case 1:p.call(this);break;case 2:p.call(this,arguments[1]);break;case 3:p.call(this,arguments[1],arguments[2]);break;default:B=Array.prototype.slice.call(arguments,1),p.apply(this,B)}else if(c(p))for(B=Array.prototype.slice.call(arguments,1),l=p.slice(),v=l.length,x=0;x<v;x++)l[x].apply(this,B);return!0},r.prototype.addListener=function(a,u){var p;if(!i(u))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",a,i(u.listener)?u.listener:u),this._events[a]?c(this._events[a])?this._events[a].push(u):this._events[a]=[this._events[a],u]:this._events[a]=u,c(this._events[a])&&!this._events[a].warned&&(h(this._maxListeners)?p=r.defaultMaxListeners:p=this._maxListeners,p&&p>0&&this._events[a].length>p&&(this._events[a].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[a].length),typeof console.trace=="function"&&console.trace())),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(a,u){if(!i(u))throw TypeError("listener must be a function");var p=!1;function v(){this.removeListener(a,v),p||(p=!0,u.apply(this,arguments))}return v.listener=u,this.on(a,v),this},r.prototype.removeListener=function(a,u){var p,v,B,x;if(!i(u))throw TypeError("listener must be a function");if(!this._events||!this._events[a])return this;if(p=this._events[a],B=p.length,v=-1,p===u||i(p.listener)&&p.listener===u)delete this._events[a],this._events.removeListener&&this.emit("removeListener",a,u);else if(c(p)){for(x=B;x-- >0;)if(p[x]===u||p[x].listener&&p[x].listener===u){v=x;break}if(v<0)return this;p.length===1?(p.length=0,delete this._events[a]):p.splice(v,1),this._events.removeListener&&this.emit("removeListener",a,u)}return this},r.prototype.removeAllListeners=function(a){var u,p;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[a]&&delete this._events[a],this;if(arguments.length===0){for(u in this._events)u!=="removeListener"&&this.removeAllListeners(u);return this.removeAllListeners("removeListener"),this._events={},this}if(p=this._events[a],i(p))this.removeListener(a,p);else if(p)for(;p.length;)this.removeListener(a,p[p.length-1]);return delete this._events[a],this},r.prototype.listeners=function(a){var u;return!this._events||!this._events[a]?u=[]:i(this._events[a])?u=[this._events[a]]:u=this._events[a].slice(),u},r.prototype.listenerCount=function(a){if(this._events){var u=this._events[a];if(i(u))return 1;if(u)return u.length}return 0},r.listenerCount=function(a,u){return a.listenerCount(u)};function i(a){return typeof a=="function"}function t(a){return typeof a=="number"}function c(a){return typeof a=="object"&&a!==null}function h(a){return a===void 0}},{}],2:[function(o,e,s){var r,i,t,c,h;h=navigator.userAgent.toLowerCase(),c=navigator.platform.toLowerCase(),r=h.match(/(opera|ie|firefox|chrome|version)[\s\/:]([\w\d\.]+)?.*?(safari|version[\s\/:]([\w\d\.]+)|$)/)||[null,"unknown",0],t=r[1]==="ie"&&document.documentMode,i={name:r[1]==="version"?r[3]:r[1],version:t||parseFloat(r[1]==="opera"&&r[4]?r[4]:r[2]),platform:{name:h.match(/ip(?:ad|od|hone)/)?"ios":(h.match(/(?:webos|android)/)||c.match(/mac|win|linux/)||["other"])[0]}},i[i.name]=!0,i[i.name+parseInt(i.version,10)]=!0,i.platform[i.platform.name]=!0,e.exports=i},{}],3:[function(o,e,s){var r,i,t,c=function(p,v){for(var B in v)h.call(v,B)&&(p[B]=v[B]);function x(){this.constructor=p}return x.prototype=v.prototype,p.prototype=new x,p.__super__=v.prototype,p},h={}.hasOwnProperty,a=[].indexOf||function(p){for(var v=0,B=this.length;v<B;v++)if(v in this&&this[v]===p)return v;return-1},u=[].slice;r=o("events").EventEmitter,t=o("./browser.coffee"),i=function(p){var v,B;c(x,p),v={workerScript:"gif-worker",workers:2,repeat:0,background:"#fff",quality:10,width:null,height:null,transparent:null,debug:!1,dither:!1},B={delay:500,copy:!1};function x(l){var f,g,n;this.running=!1,this.options={},this.frames=[],this.freeWorkers=[],this.activeWorkers=[],this.setOptions(l);for(g in v)n=v[g],(f=this.options)[g]==null&&(f[g]=n)}return x.prototype.setOption=function(l,f){if(this.options[l]=f,this._canvas!=null&&(l==="width"||l==="height"))return this._canvas[l]=f},x.prototype.setOptions=function(l){var f,g,n;g=[];for(f in l)!h.call(l,f)||(n=l[f],g.push(this.setOption(f,n)));return g},x.prototype.addFrame=function(l,f){var g,n;f==null&&(f={}),g={},g.transparent=this.options.transparent;for(n in B)g[n]=f[n]||B[n];if(this.options.width==null&&this.setOption("width",l.width),this.options.height==null&&this.setOption("height",l.height),typeof ImageData!="undefined"&&ImageData!==null&&l instanceof ImageData)g.data=l.data;else if(typeof CanvasRenderingContext2D!="undefined"&&CanvasRenderingContext2D!==null&&l instanceof CanvasRenderingContext2D||typeof WebGLRenderingContext!="undefined"&&WebGLRenderingContext!==null&&l instanceof WebGLRenderingContext)f.copy?g.data=this.getContextData(l):g.context=l;else if(l.childNodes!=null)f.copy?g.data=this.getImageData(l):g.image=l;else throw new Error("Invalid image");return this.frames.push(g)},x.prototype.render=function(){var l,f,g;if(this.running)throw new Error("Already running");if(this.options.width==null||this.options.height==null)throw new Error("Width and height must be set prior to rendering");if(this.running=!0,this.nextFrame=0,this.finishedFrames=0,this.imageParts=function(){var n,U,it;for(it=[],n=0,U=this.frames.length;0<=U?n<U:n>U;0<=U?++n:--n)it.push(null);return it}.call(this),f=this.spawnWorkers(),this.options.globalPalette===!0)this.renderNextFrame();else for(l=0,g=f;0<=g?l<g:l>g;0<=g?++l:--l)this.renderNextFrame();return this.emit("start"),this.emit("progress",0)},x.prototype.abort=function(){for(var l;l=this.activeWorkers.shift(),l!=null;)this.log("killing active worker"),l.terminate();return this.running=!1,this.emit("abort")},x.prototype.spawnWorkers=function(){var l,f,g;return l=Math.min(this.options.workers,this.frames.length),function(){g=[];for(var n=f=this.freeWorkers.length;f<=l?n<l:n>l;f<=l?n++:n--)g.push(n);return g}.apply(this).forEach(function(n){return function(U){var it;n.log("spawning worker "+U);var mt=URL.createObjectURL(new Blob(["(",function(){(function tt(ut,gt,nt){function I(b,d){if(!gt[b]){if(!ut[b]){var M=typeof o=="function"&&o;if(!d&&M)return M(b,!0);if(w)return w(b,!0);var P=new Error("Cannot find module '"+b+"'");throw P.code="MODULE_NOT_FOUND",P}var A=gt[b]={exports:{}};ut[b][0].call(A.exports,function(L){var X=ut[b][1][L];return I(X||L)},A,A.exports,tt,ut,gt,nt)}return gt[b].exports}for(var w=typeof o=="function"&&o,S=0;S<nt.length;S++)I(nt[S]);return I})({1:[function(tt,ut,gt){var nt=tt("./TypedNeuQuant.js"),I=tt("./LZWEncoder.js");function w(){this.page=-1,this.pages=[],this.newPage()}w.pageSize=4096,w.charMap={};for(var S=0;S<256;S++)w.charMap[S]=String.fromCharCode(S);w.prototype.newPage=function(){this.pages[++this.page]=new Uint8Array(w.pageSize),this.cursor=0},w.prototype.getData=function(){for(var d="",M=0;M<this.pages.length;M++)for(var P=0;P<w.pageSize;P++)d+=w.charMap[this.pages[M][P]];return d},w.prototype.writeByte=function(d){this.cursor>=w.pageSize&&this.newPage(),this.pages[this.page][this.cursor++]=d},w.prototype.writeUTFBytes=function(d){for(var M=d.length,P=0;P<M;P++)this.writeByte(d.charCodeAt(P))},w.prototype.writeBytes=function(d,M,P){for(var A=P||d.length,L=M||0;L<A;L++)this.writeByte(d[L])};function b(d,M){this.width=~~d,this.height=~~M,this.transparent=null,this.transIndex=0,this.repeat=-1,this.delay=0,this.image=null,this.pixels=null,this.indexedPixels=null,this.colorDepth=null,this.colorTab=null,this.neuQuant=null,this.usedEntry=new Array,this.palSize=7,this.dispose=-1,this.firstFrame=!0,this.sample=10,this.dither=!1,this.globalPalette=!1,this.out=new w}b.prototype.setDelay=function(d){this.delay=Math.round(d/10)},b.prototype.setFrameRate=function(d){this.delay=Math.round(100/d)},b.prototype.setDispose=function(d){d>=0&&(this.dispose=d)},b.prototype.setRepeat=function(d){this.repeat=d},b.prototype.setTransparent=function(d){this.transparent=d},b.prototype.addFrame=function(d){this.image=d,this.colorTab=this.globalPalette&&this.globalPalette.slice?this.globalPalette:null,this.getImagePixels(),this.analyzePixels(),this.globalPalette===!0&&(this.globalPalette=this.colorTab),this.firstFrame&&(this.writeLSD(),this.writePalette(),this.repeat>=0&&this.writeNetscapeExt()),this.writeGraphicCtrlExt(),this.writeImageDesc(),!this.firstFrame&&!this.globalPalette&&this.writePalette(),this.writePixels(),this.firstFrame=!1},b.prototype.finish=function(){this.out.writeByte(59)},b.prototype.setQuality=function(d){d<1&&(d=1),this.sample=d},b.prototype.setDither=function(d){d===!0&&(d="FloydSteinberg"),this.dither=d},b.prototype.setGlobalPalette=function(d){this.globalPalette=d},b.prototype.getGlobalPalette=function(){return this.globalPalette&&this.globalPalette.slice&&this.globalPalette.slice(0)||this.globalPalette},b.prototype.writeHeader=function(){this.out.writeUTFBytes("GIF89a")},b.prototype.analyzePixels=function(){this.colorTab||(this.neuQuant=new nt(this.pixels,this.sample),this.neuQuant.buildColormap(),this.colorTab=this.neuQuant.getColormap()),this.dither?this.ditherPixels(this.dither.replace("-serpentine",""),this.dither.match(/-serpentine/)!==null):this.indexPixels(),this.pixels=null,this.colorDepth=8,this.palSize=7,this.transparent!==null&&(this.transIndex=this.findClosest(this.transparent,!0))},b.prototype.indexPixels=function(d){var M=this.pixels.length/3;this.indexedPixels=new Uint8Array(M);for(var P=0,A=0;A<M;A++){var L=this.findClosestRGB(this.pixels[P++]&255,this.pixels[P++]&255,this.pixels[P++]&255);this.usedEntry[L]=!0,this.indexedPixels[A]=L}},b.prototype.ditherPixels=function(d,M){var P={FalseFloydSteinberg:[[.375,1,0],[.375,0,1],[.25,1,1]],FloydSteinberg:[[.4375,1,0],[.1875,-1,1],[.3125,0,1],[.0625,1,1]],Stucki:[[.19047619047619047,1,0],[.09523809523809523,2,0],[.047619047619047616,-2,1],[.09523809523809523,-1,1],[.19047619047619047,0,1],[.09523809523809523,1,1],[.047619047619047616,2,1],[.023809523809523808,-2,2],[.047619047619047616,-1,2],[.09523809523809523,0,2],[.047619047619047616,1,2],[.023809523809523808,2,2]],Atkinson:[[.125,1,0],[.125,2,0],[.125,-1,1],[.125,0,1],[.125,1,1],[.125,0,2]]};if(!d||!P[d])throw"Unknown dithering kernel: "+d;var A=P[d],L=0,X=this.height,Q=this.width,Z=this.pixels,V=M?-1:1;this.indexedPixels=new Uint8Array(this.pixels.length/3);for(var K=0;K<X;K++){M&&(V=V*-1);for(var H=V==1?0:Q-1,lt=V==1?Q:0;H!==lt;H+=V){L=K*Q+H;var $=L*3,vt=Z[$],Ft=Z[$+1],rt=Z[$+2];$=this.findClosestRGB(vt,Ft,rt),this.usedEntry[$]=!0,this.indexedPixels[L]=$,$*=3;for(var kt=this.colorTab[$],Mt=this.colorTab[$+1],St=this.colorTab[$+2],Et=vt-kt,Bt=Ft-Mt,At=rt-St,dt=V==1?0:A.length-1,wt=V==1?A.length:0;dt!==wt;dt+=V){var z=A[dt][1],ot=A[dt][2];if(z+H>=0&&z+H<Q&&ot+K>=0&&ot+K<X){var T=A[dt][0];$=L+z+ot*Q,$*=3,Z[$]=Math.max(0,Math.min(255,Z[$]+Et*T)),Z[$+1]=Math.max(0,Math.min(255,Z[$+1]+Bt*T)),Z[$+2]=Math.max(0,Math.min(255,Z[$+2]+At*T))}}}}},b.prototype.findClosest=function(d,M){return this.findClosestRGB((d&16711680)>>16,(d&65280)>>8,d&255,M)},b.prototype.findClosestRGB=function(d,M,P,A){if(this.colorTab===null)return-1;if(this.neuQuant&&!A)return this.neuQuant.lookupRGB(d,M,P);for(var L=0,X=256*256*256,Q=this.colorTab.length,Z=0,V=0;Z<Q;V++){var K=d-(this.colorTab[Z++]&255),H=M-(this.colorTab[Z++]&255),lt=P-(this.colorTab[Z++]&255),$=K*K+H*H+lt*lt;(!A||this.usedEntry[V])&&$<X&&(X=$,L=V)}return L},b.prototype.getImagePixels=function(){var d=this.width,M=this.height;this.pixels=new Uint8Array(d*M*3);for(var P=this.image,A=0,L=0,X=0;X<M;X++)for(var Q=0;Q<d;Q++)this.pixels[L++]=P[A++],this.pixels[L++]=P[A++],this.pixels[L++]=P[A++],A++},b.prototype.writeGraphicCtrlExt=function(){this.out.writeByte(33),this.out.writeByte(249),this.out.writeByte(4);var d,M;this.transparent===null?(d=0,M=0):(d=1,M=2),this.dispose>=0&&(M=dispose&7),M<<=2,this.out.writeByte(0|M|0|d),this.writeShort(this.delay),this.out.writeByte(this.transIndex),this.out.writeByte(0)},b.prototype.writeImageDesc=function(){this.out.writeByte(44),this.writeShort(0),this.writeShort(0),this.writeShort(this.width),this.writeShort(this.height),this.firstFrame||this.globalPalette?this.out.writeByte(0):this.out.writeByte(128|this.palSize)},b.prototype.writeLSD=function(){this.writeShort(this.width),this.writeShort(this.height),this.out.writeByte(240|this.palSize),this.out.writeByte(0),this.out.writeByte(0)},b.prototype.writeNetscapeExt=function(){this.out.writeByte(33),this.out.writeByte(255),this.out.writeByte(11),this.out.writeUTFBytes("NETSCAPE2.0"),this.out.writeByte(3),this.out.writeByte(1),this.writeShort(this.repeat),this.out.writeByte(0)},b.prototype.writePalette=function(){this.out.writeBytes(this.colorTab);for(var d=3*256-this.colorTab.length,M=0;M<d;M++)this.out.writeByte(0)},b.prototype.writeShort=function(d){this.out.writeByte(d&255),this.out.writeByte(d>>8&255)},b.prototype.writePixels=function(){var d=new I(this.width,this.height,this.indexedPixels,this.colorDepth);d.encode(this.out)},b.prototype.stream=function(){return this.out},ut.exports=b},{"./LZWEncoder.js":2,"./TypedNeuQuant.js":3}],2:[function(tt,ut,gt){var nt=-1,I=12,w=5003,S=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535];function b(d,M,P,A){var L=Math.max(2,A),X=new Uint8Array(256),Q=new Int32Array(w),Z=new Int32Array(w),V,K=0,H,lt=0,$,vt=!1,Ft,rt,kt;function Mt(T,J){X[H++]=T,H>=254&&dt(J)}function St(T){Et(w),lt=rt+2,vt=!0,ot(rt,T)}function Et(T){for(var J=0;J<T;++J)Q[J]=-1}function Bt(T,J){var ft,Pt,ht,yt,Lt,Tt,Ct;for(Ft=T,vt=!1,n_bits=Ft,$=wt(n_bits),rt=1<<T-1,kt=rt+1,lt=rt+2,H=0,yt=z(),Ct=0,ft=w;ft<65536;ft*=2)++Ct;Ct=8-Ct,Tt=w,Et(Tt),ot(rt,J);t:for(;(Pt=z())!=nt;){if(ft=(Pt<<I)+yt,ht=Pt<<Ct^yt,Q[ht]===ft){yt=Z[ht];continue}else if(Q[ht]>=0){Lt=Tt-ht,ht===0&&(Lt=1);do if((ht-=Lt)<0&&(ht+=Tt),Q[ht]===ft){yt=Z[ht];continue t}while(Q[ht]>=0)}ot(yt,J),yt=Pt,lt<1<<I?(Z[ht]=lt++,Q[ht]=ft):St(J)}ot(yt,J),ot(kt,J)}function At(T){T.writeByte(L),remaining=d*M,curPixel=0,Bt(L+1,T),T.writeByte(0)}function dt(T){H>0&&(T.writeByte(H),T.writeBytes(X,0,H),H=0)}function wt(T){return(1<<T)-1}function z(){if(remaining===0)return nt;--remaining;var T=P[curPixel++];return T&255}function ot(T,J){for(V&=S[K],K>0?V|=T<<K:V=T,K+=n_bits;K>=8;)Mt(V&255,J),V>>=8,K-=8;if((lt>$||vt)&&(vt?($=wt(n_bits=Ft),vt=!1):(++n_bits,n_bits==I?$=1<<I:$=wt(n_bits))),T==kt){for(;K>0;)Mt(V&255,J),V>>=8,K-=8;dt(J)}}this.encode=At}ut.exports=b},{}],3:[function(tt,ut,gt){var nt=100,I=256,w=I-1,S=4,b=16,d=1<<b,M=10,P=10,A=d>>P,L=d<<M-P,X=I>>3,Q=6,Z=1<<Q,V=X*Z,K=30,H=10,lt=1<<H,$=8,vt=1<<$,Ft=H+$,rt=1<<Ft,kt=499,Mt=491,St=487,Et=503,Bt=3*Et;function At(dt,wt){var z,ot,T,J,ft;function Pt(){z=[],ot=new Int32Array(256),T=new Int32Array(I),J=new Int32Array(I),ft=new Int32Array(I>>3);var y,m;for(y=0;y<I;y++)m=(y<<S+8)/I,z[y]=new Float64Array([m,m,m,0]),J[y]=d/I,T[y]=0}function ht(){for(var y=0;y<I;y++)z[y][0]>>=S,z[y][1]>>=S,z[y][2]>>=S,z[y][3]=y}function yt(y,m,O,_,D){z[m][0]-=y*(z[m][0]-O)/lt,z[m][1]-=y*(z[m][1]-_)/lt,z[m][2]-=y*(z[m][2]-D)/lt}function Lt(y,m,O,_,D){for(var k=Math.abs(m-y),N=Math.min(m+y,I),E=m+1,q=m-1,st=1,G,at;E<N||q>k;)at=ft[st++],E<N&&(G=z[E++],G[0]-=at*(G[0]-O)/rt,G[1]-=at*(G[1]-_)/rt,G[2]-=at*(G[2]-D)/rt),q>k&&(G=z[q--],G[0]-=at*(G[0]-O)/rt,G[1]-=at*(G[1]-_)/rt,G[2]-=at*(G[2]-D)/rt)}function Tt(y,m,O){var _=2147483647,D=_,k=-1,N=k,E,q,st,G,at;for(E=0;E<I;E++)q=z[E],st=Math.abs(q[0]-y)+Math.abs(q[1]-m)+Math.abs(q[2]-O),st<_&&(_=st,k=E),G=st-(T[E]>>b-S),G<D&&(D=G,N=E),at=J[E]>>P,J[E]-=at,T[E]+=at<<M;return J[k]+=A,T[k]-=L,N}function Ct(){var y,m,O,_,D,k,N=0,E=0;for(y=0;y<I;y++){for(O=z[y],D=y,k=O[1],m=y+1;m<I;m++)_=z[m],_[1]<k&&(D=m,k=_[1]);if(_=z[D],y!=D&&(m=_[0],_[0]=O[0],O[0]=m,m=_[1],_[1]=O[1],O[1]=m,m=_[2],_[2]=O[2],O[2]=m,m=_[3],_[3]=O[3],O[3]=m),k!=N){for(ot[N]=E+y>>1,m=N+1;m<k;m++)ot[m]=y;N=k,E=y}}for(ot[N]=E+w>>1,m=N+1;m<256;m++)ot[m]=w}function oe(y,m,O){for(var _,D,k,N=1e3,E=-1,q=ot[m],st=q-1;q<I||st>=0;)q<I&&(D=z[q],k=D[1]-m,k>=N?q=I:(q++,k<0&&(k=-k),_=D[0]-y,_<0&&(_=-_),k+=_,k<N&&(_=D[2]-O,_<0&&(_=-_),k+=_,k<N&&(N=k,E=D[3])))),st>=0&&(D=z[st],k=m-D[1],k>=N?st=-1:(st--,k<0&&(k=-k),_=D[0]-y,_<0&&(_=-_),k+=_,k<N&&(_=D[2]-O,_<0&&(_=-_),k+=_,k<N&&(N=k,E=D[3]))));return E}function ae(){var y,m=dt.length,O=30+(wt-1)/3,_=m/(3*wt),D=~~(_/nt),k=lt,N=V,E=N>>Q;for(E<=1&&(E=0),y=0;y<E;y++)ft[y]=k*((E*E-y*y)*vt/(E*E));var q;m<Bt?(wt=1,q=3):m%kt!==0?q=3*kt:m%Mt!==0?q=3*Mt:m%St!==0?q=3*St:q=3*Et;var st,G,at,bt,zt=0;for(y=0;y<_;)if(st=(dt[zt]&255)<<S,G=(dt[zt+1]&255)<<S,at=(dt[zt+2]&255)<<S,bt=Tt(st,G,at),yt(k,bt,st,G,at),E!==0&&Lt(E,bt,st,G,at),zt+=q,zt>=m&&(zt-=m),y++,D===0&&(D=1),y%D===0)for(k-=k/O,N-=N/K,E=N>>Q,E<=1&&(E=0),bt=0;bt<E;bt++)ft[bt]=k*((E*E-bt*bt)*vt/(E*E))}function le(){Pt(),ae(),ht(),Ct()}this.buildColormap=le;function he(){for(var y=[],m=[],O=0;O<I;O++)m[z[O][3]]=O;for(var _=0,D=0;D<I;D++){var k=m[D];y[_++]=z[k][0],y[_++]=z[k][1],y[_++]=z[k][2]}return y}this.getColormap=he,this.lookupRGB=oe}ut.exports=At},{}],4:[function(tt,ut,gt){var nt,I;nt=tt("./GIFEncoder.js"),I=function(w){var S,b,d,M;return S=new nt(w.width,w.height),w.index===0?S.writeHeader():S.firstFrame=!1,S.setTransparent(w.transparent),S.setRepeat(w.repeat),S.setDelay(w.delay),S.setQuality(w.quality),S.setDither(w.dither),S.setGlobalPalette(w.globalPalette),S.addFrame(w.data),w.last&&S.finish(),w.globalPalette===!0&&(w.globalPalette=S.getGlobalPalette()),d=S.stream(),w.data=d.pages,w.cursor=d.cursor,w.pageSize=d.constructor.pageSize,w.canTransfer?(M=function(){var P,A,L,X;for(L=w.data,X=[],P=0,A=L.length;P<A;P++)b=L[P],X.push(b.buffer);return X}(),self.postMessage(w,M)):self.postMessage(w)},self.onmessage=function(w){return I(w.data)}},{"./GIFEncoder.js":1}]},{},[4])}.toString(),")()"],{type:"application/javascript"}));return it=new Worker(mt),it.onmessage=function(tt){return n.activeWorkers.splice(n.activeWorkers.indexOf(it),1),n.freeWorkers.push(it),n.frameFinished(tt.data)},n.freeWorkers.push(it)}}(this)),l},x.prototype.frameFinished=function(l){var f,g;if(this.log("frame "+l.index+" finished - "+this.activeWorkers.length+" active"),this.finishedFrames++,this.emit("progress",this.finishedFrames/this.frames.length),this.imageParts[l.index]=l,this.options.globalPalette===!0&&(this.options.globalPalette=l.globalPalette,this.log("global palette analyzed"),this.frames.length>2))for(f=1,g=this.freeWorkers.length;1<=g?f<g:f>g;1<=g?++f:--f)this.renderNextFrame();return a.call(this.imageParts,null)>=0?this.renderNextFrame():this.finishRendering()},x.prototype.finishRendering=function(){var l,f,g,n,U,it,mt,tt,ut,gt,nt,I,w,S,b,d;for(tt=0,S=this.imageParts,U=0,ut=S.length;U<ut;U++)f=S[U],tt+=(f.data.length-1)*f.pageSize+f.cursor;for(tt+=f.pageSize-f.cursor,this.log("rendering finished - filesize "+Math.round(tt/1e3)+"kb"),l=new Uint8Array(tt),I=0,b=this.imageParts,it=0,gt=b.length;it<gt;it++)for(f=b[it],d=f.data,g=mt=0,nt=d.length;mt<nt;g=++mt)w=d[g],l.set(w,I),g===f.data.length-1?I+=f.cursor:I+=f.pageSize;return n=new Blob([l],{type:"image/gif"}),this.emit("finished",n,l)},x.prototype.renderNextFrame=function(){var l,f,g;if(this.freeWorkers.length===0)throw new Error("No free workers");if(!(this.nextFrame>=this.frames.length))return l=this.frames[this.nextFrame++],g=this.freeWorkers.shift(),f=this.getTask(l),this.log("starting frame "+(f.index+1)+" of "+this.frames.length),this.activeWorkers.push(g),g.postMessage(f)},x.prototype.getContextData=function(l){return l.getImageData(0,0,this.options.width,this.options.height).data},x.prototype.getImageData=function(l){var f;return this._canvas==null&&(this._canvas=document.createElement("canvas"),this._canvas.width=this.options.width,this._canvas.height=this.options.height),f=this._canvas.getContext("2d"),f.setFill=this.options.background,f.fillRect(0,0,this.options.width,this.options.height),f.drawImage(l,0,0),this.getContextData(f)},x.prototype.getTask=function(l){var f,g;if(f=this.frames.indexOf(l),g={index:f,last:f===this.frames.length-1,delay:l.delay,transparent:l.transparent,width:this.options.width,height:this.options.height,quality:this.options.quality,dither:this.options.dither,globalPalette:this.options.globalPalette,repeat:this.options.repeat,canTransfer:t.name==="chrome"},l.data!=null)g.data=l.data;else if(l.context!=null)g.data=this.getContextData(l.context);else if(l.image!=null)g.data=this.getImageData(l.image);else throw new Error("Invalid frame");return g},x.prototype.log=function(){var l;if(l=1<=arguments.length?u.call(arguments,0):[],!!this.options.debug)return console.log.apply(console,l)},x}(r),e.exports=i},{"./browser.coffee":2,events:1}]},{},[3])(3)});var cs=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module"});const us={created(){},data(){return{}},props:{title:String,screen:Dt},methods:{generateGif(){const e=41.666666666666664,s=720;console.log(this.screen);const r=Math.hypot(this.screen.state.rotation.x,this.screen.state.rotation.y),i=s/72;this.screen.state.rotation.x*(i/r),this.screen.state.rotation.y*(i/r);const t=this.screen.definition;this.screen.definition=512,this.screen.size,this.screen.size=2;function c(a){return a.reduce(function(u,p){return u.concat(Array.isArray(p)?c(p):p)},[])}let h=new cs({workers:4,quality:1,transparent:null,background:null,globalPalette:c(this.screen.palette.colors.map(a=>{var u=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);return[parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16)]}).concat([0,0,0])),dither:!1,width:this.screen.definition,height:this.screen.definition});for(let a=0;a<72;a++){this.screen.state.mouse.position.x+=this.screen.state.rotation.x,this.screen.state.mouse.position.y+=this.screen.state.rotation.y;const u=this.screen.generateCanvas();h.addFrame(u,{delay:e})}h.render(),h.on("finished",a=>{console.log(a),this.screen.definition=t})},generateWebP(){console.log(this.screen);const s=Math.hypot(this.screen.state.rotation.x,this.screen.state.rotation.y),r=720/72;this.screen.state.rotation.x*(r/s),this.screen.state.rotation.y*(r/s);const i=this.screen.definition;this.screen.definition=512;const t=this.screen.solid.size;this.screen.solid.size=1.4,console.log(this.screen);const c=[];for(let a=0;a<72;a++){this.screen.state.mouse.position.x+=this.screen.state.rotation.x,this.screen.state.mouse.position.y+=this.screen.state.rotation.y;const u=this.screen.generateCanvas(!0);c.push(u.canvas.toDataURL("image/webp"))}var h=document.createElement("a");h.download="origami_preview.webp",h.href=c[0],h.click(),setTimeout(()=>{this.screen.definition=i,this.screen.solid.size=t},1e4)}}},ds=o=>(Kt("data-v-6e7afd6a"),o=o(),Ht(),o),fs={class:"text-4xl font-bold"},ps=ds(()=>j("span",{class:"mt-4 w-full block"},"Download",-1)),gs={class:"download"};function vs(o,e,s,r,i,t){return W(),Y("div",fs,[ps,j("div",gs,[j("button",{onClick:e[0]||(e[0]=c=>t.generateGif())},"GIF"),j("button",{onClick:e[1]||(e[1]=c=>t.generateWebP())},"webP")])])}var ne=_t(us,[["render",vs],["__scopeId","data-v-6e7afd6a"]]);const xs={components:{CircleSlider:Rt,Slider:Xt},name:"option",created(){this.points={},this.generateRow(new C(0,0,0),this.width),this.updateColors(),setInterval(()=>{this.updateColors()},1e4)},data(){return{points:[],width:0,height:0,max_width:0,max_height:0,size:50,random:100,colors:[],pointer_scope:500,color_scope:800,mouse:{pos:new C(0,0),hovered:!0}}},computed:{orderedTriangles(){return this.triangles.sort((o,e)=>this.value(o.center)<this.value(e.center))},triangles(){const o=[];for(const e in this.points){let t=function(c,h,a){return new C(c.x+h.x+a.x/3,c.y+h.y+a.y/3)};const s=this.points[e],r=e.split(":").map(c=>parseInt(c)),i=this.points[`${r[0]+1}:${r[1]+1}`];if(i){const c=this.points[`${r[0]+1}:${r[1]}`];c&&o.push({a:c,b:i,c:s,center:t(c,i,s)});const h=this.points[`${r[0]}:${r[1]+1}`];h&&o.push({a:h,b:i,c:s,center:t(h,i,s)})}}return o},value(){return o=>0}},props:{screen:Dt},methods:{generateRow(o,e){for(;e>=0;){const s=o.x+e,r=o.y,i=s-r,t=this.getCoord(s,r,i,e);this.points[`${s}:${r}`]=t,this.generateColumn(new C(s,r,i),this.height),e--}},generateColumn(o,e){for(;e>=0;){const s=o.x+Math.floor(e/2),r=o.y+e,i=s-r,t=this.getCoord(s,r,i,e);this.points[`${s}:${r}`]=t,e--}},getCoord(o,e,s,r){let i=0,t=0;const c=this.random/100*this.size;return(o+s)/2>this.width-1?i=this.size*this.width*2:o+s>0&&(i=o*this.size+s*this.size+(2*c*Math.random()-c)),e>=this.height?t=this.height*Math.sqrt(3)*this.size:e!=0&&(t=e*this.size*Math.sqrt(3)+(2*c*Math.random()-c)),new C(i,t)},getColor(o){let e={r:0,g:0,b:0};const s=new C((o.a.x+o.b.x+o.c.x)/3,(o.a.y+o.b.y+o.c.y)/3);for(const r in this.colors){const i=Math.sqrt(Math.pow(this.colors[r].coordinate.x-s.x,2)+Math.pow(this.colors[r].coordinate.y-s.y,2));e.r+=Math.max(0,this.colors[r].distance-i)/this.colors[r].distance*this.colors[r].color.r,e.g+=Math.max(0,this.colors[r].distance-i)/this.colors[r].distance*this.colors[r].color.g,e.b+=Math.max(0,this.colors[r].distance-i)/this.colors[r].distance*this.colors[r].color.b}return`rgb(${Math.round(e.r)}, ${Math.round(e.g)}, ${Math.round(e.b)})`},updateColors(){this.colors=[{color:{r:Math.random()*255,g:Math.random()*255,b:Math.random()*255},coordinate:new C(0,0),distance:this.color_scope},{color:{r:Math.random()*255,g:Math.random()*255,b:Math.random()*255},coordinate:new C(this.width*this.size*2,0),distance:this.color_scope},{color:{r:Math.random()*255,g:Math.random()*255,b:Math.random()*255},coordinate:new C(0,this.size*this.height*1.8),distance:this.color_scope},{color:{r:Math.random()*255,g:Math.random()*255,b:Math.random()*255},coordinate:new C(this.width*this.size*2,this.size*this.height*1.8),distance:this.color_scope},{color:{r:128+Math.random()*128,g:128+Math.random()*128,b:128+Math.random()*128},coordinate:new C(this.width*this.size,this.size*this.height*.9),distance:this.color_scope}]},reload(){this.points={},this.colors=[{color:{r:Math.random()*255,g:Math.random()*255,b:Math.random()*255},coordinate:new C(0,0),distance:this.color_scope},{color:{r:Math.random()*255,g:Math.random()*255,b:Math.random()*255},coordinate:new C(this.width*this.size*2,0),distance:this.color_scope},{color:{r:Math.random()*255,g:Math.random()*255,b:Math.random()*255},coordinate:new C(0,this.size*this.height*1.8),distance:this.color_scope},{color:{r:Math.random()*255,g:Math.random()*255,b:Math.random()*255},coordinate:new C(this.width*this.size*2,this.size*this.height*1.8),distance:this.color_scope},{color:{r:128+Math.random()*128,g:128+Math.random()*128,b:128+Math.random()*128},coordinate:new C(this.width*this.size,this.size*this.height*.9),distance:this.color_scope}],this.generateRow(new C(0,0,0),this.width)},checkCoord(o,e){for(const s of e)if(o.x==s.x&&o.y==s.y&&o.z==s.z)return!1;return!0}},mounted(){this.max_width=document.body.clientWidth,this.max_height=document.body.clientHeight,this.width=Math.ceil(this.max_width/this.size/2)+1,this.height=Math.ceil(this.max_height/this.size/2)+2,this.reload()}},ms={class:"background-container center"},ys=["fill","stroke","id","points"];function ws(o,e,s,r,i,t){return W(),Y("div",ms,[(W(),Y("svg",{class:"background",onClick:e[0]||(e[0]=c=>this.reload()),style:ct(`top: ${-i.size/2}; left: ${-i.size/2}`)},[(W(!0),Y(Nt,null,Ut(t.orderedTriangles,(c,h)=>(W(),Y("polygon",{class:"triangle",key:h,style:ct(`
          filter: drop-shadow(0px 0px ${t.value(c.center)}px #00000080);
          transform: 
            scale(${100-t.value(c.center)}%)
            rotate(${t.value(c.center)*.2}deg);
          transform-origin: ${c.center.x/2.3}px ${c.center.y/2.3}px;`),fill:t.getColor(c),stroke:t.getColor(c),"stroke-width":"2px",id:h,points:`${c.a.x},${c.a.y} ${c.b.x},${c.b.y} ${c.c.x},${c.c.y}`},null,12,ys))),128))],4))])}var Qt=_t(xs,[["render",ws],["__scopeId","data-v-d215bb06"]]);const bs={class:"app"},_s={class:"content overflow-hidden hidden"},Fs={name:"app",components:[ee,se,ie,qt,ne,Qt],created(){this.palette=new jt},data(){return{selectedMenu:"palette",palette:jt,screen:Dt,background:Qt,option:qt,screenVisible:!0}},mounted(){this.$refs.screen&&(this.screen=this.$refs.screen.screen),setInterval(()=>{this.screenVisible=!1,setTimeout(()=>{this.palette.changePreset("default");const o=["mixe 3","mixe 5","mixe 6","gradient 4","gradient 10"][Math.floor(Math.random()*5)];this.palette.theme=o;const e=parseInt(o.substring(o.indexOf(" ")+1)),s=this.generateColors("#"+(Math.random()*16777215<<0).toString(16).padStart(6,"0"),"#"+(Math.random()*16777215<<0).toString(16).padStart(6,"0"),e);console.log(s),this.palette.colors=s,setTimeout(()=>{this.screenVisible=!0},500)},1e3)},1e4)},props:{},methods:{generateColors(o,e,s){let r={r:parseInt(o.slice(1,3),16),g:parseInt(o.slice(3,5),16),b:parseInt(o.slice(5,7),16)},i={r:parseInt(e.slice(1,3),16),g:parseInt(e.slice(3,5),16),b:parseInt(e.slice(5,7),16)},t={r:i.r-r.r,g:i.g-r.g,b:i.b-r.b},c={r:t.r/(s-1),g:t.g/(s-1),b:t.b/(s-1)},h=[];for(let a=0;a<s;a++){let u={r:Math.round(r.r+c.r*a),g:Math.round(r.g+c.g*a),b:Math.round(r.b+c.b*a)},p=("0"+u.r.toString(16)).slice(-2),v=("0"+u.g.toString(16)).slice(-2),B=("0"+u.b.toString(16)).slice(-2),x="#"+p+v+B;h.push(x)}for(let a=s;a<30;a++)h.push("#888888");return h}}},ks=Object.assign(Fs,{setup(o){return(e,s)=>(W(),Y("div",bs,[et(Qt),et(ee,{class:xt(["screen",{visible:e.screenVisible}]),"prop-test":"sdilfhads",palette:e.palette,ref_key:"screen",ref:screen},{default:ye(()=>[te(It(),1)]),_:1},8,["class","palette"]),j("div",_s,[et(se,{onSelect:s[0]||(s[0]=r=>e.selectedMenu=r)}),e.selectedMenu=="palette"?(W(),Wt(ie,{key:0,class:"overflow-auto",palette:e.palette,screen:e.screen},null,8,["palette","screen"])):$t("",!0),e.selectedMenu=="option"?(W(),Wt(qt,{key:1,class:"overflow-auto",screen:e.screen},null,8,["screen"])):$t("",!0),e.selectedMenu=="download"?(W(),Wt(ne,{key:2,class:"overflow-auto",screen:e.screen,title:"download menu"},null,8,["screen"])):$t("",!0)])]))}});we(ks).mount("#app")});export default Ms();
