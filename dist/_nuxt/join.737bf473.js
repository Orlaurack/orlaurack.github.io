import{u as l,r as u,g as c,s as m}from"./index.b4dc6616.js";import{e as p,b as d,a as _,f as g,h as o,t as f,i as h,o as j}from"./entry.9e251ea0.js";const y={methods:{cleanString(e){return e.replace(/[^A-Za-z0-9\s\u00C0-\u017F]/g,"").trim()},slugString(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-")},joinRoom(){const e=this.cleanString(this.$refs.name.value);if(e.length){const s=l(),r=d(),n=this.slugString(e),a=u(s,`rooms/${r.params.code}/players/${n}`);c(a).then(t=>{(!t.exists()||confirm("ce nom est d\xE9ja utilis\xE9, essayez vous de retourner dans le salon ?"))&&(m(a,{name:e}),_().push(`player-${n}/settings`))})}}}},R={class:"join-form"},v={id:"input-name"},$={type:"text",name:"name",ref:"name"};function x(e,s,r,n,a,t){return j(),g("div",R,[o("h1",null,"Salon "+f(e.$route.params.code),1),o("label",v,[h("Nom "),o("input",$,null,512)]),o("input",{id:"join-btn",onClick:s[0]||(s[0]=(...i)=>t.joinRoom&&t.joinRoom(...i)),type:"submit",value:"Rejoindre le salon"})])}const B=p(y,[["render",x],["__scopeId","data-v-83a9d229"]]);export{B as default};
